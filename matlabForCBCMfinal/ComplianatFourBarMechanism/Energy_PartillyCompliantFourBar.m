function y=Energy_PartillyCompliantFourBar(x)
t1=1.2e-3;
t1=t1;
t2=t1;
t3=t1;
k331=t1^2/12;
k332=t2^2/12;
k333=t3^2/12;
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
[len,gro]=size(x);
for i=1:gro
    y123(i)=0.5*k331*x(5,i)^2+0.5*[x(4,i) x(6,i)]*[12 -6;-6 4]*[x(4,i);x(6,i)]+0.5*x(3,i)^2*[x(4,i) x(6,i)]*[1/700 -1/1400;-1/1400 11/6300]*[x(4,i);x(6,i)]+...
        0.5*k332*x(11,i)^2+0.5*[x(10,i) x(12,i)]*[12 -6;-6 4]*[x(10,i);x(12,i)]+0.5*x(9,i)^2*[x(10,i) x(12,i)]*[1/700 -1/1400;-1/1400 11/6300]*[x(10,i);x(12,i)]+...
        0.5*k333*x(17,i)^2+0.5*[x(16,i) x(18,i)]*[12 -6;-6 4]*[x(16,i);x(18,i)]+0.5*x(15,i)^2*[x(16,i) x(18,i)]*[1/700 -1/1400;-1/1400 11/6300]*[x(16,i);x(18,i)];
 end
y=[y123];